(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{513:function(t,e,i){"use strict";i.r(e);var o=i(113),s=i.n(o),n=i(1),a=i(4),r=i(0),p=i(6),l=i(3).h;const c=t=>{return l("span",{...t||{},css:{"&::before":{fontSize:18,height:18,lineHeight:"18px",width:18,color:"cyan",verticalAlign:"text-bottom"},color:"white",display:"inline-block",width:18,height:18,marginLeft:0,marginRight:8,position:"relative"}})};var h={marginTop:10,marginBottom:15},d={marginTop:0,fontSize:20},u={marginBottom:15,marginLeft:0,paddingLeft:0,listStyle:"none"},g={lineHeight:"20px",fontSize:14,color:"gray-dark"},m={marginBottom:10,fontSize:17};function f({source:t,rationale:e,href:i,linkText:o,isDetailTest:s}){const{trustedSourceLookup:n}=Object(p.c)(),f=s&&n?n[o].journal:t,v=s&&n?n[o].source:i;return l("div",{css:"padding: 20px 40px"},l("div",null,l("p",{css:h},l(c,{className:"icon-hl-trusted-source"}),l(a.a,{href:"/process",cdpEvent:"top_sources_event",event:"|Top Sources|Process Link Click",css:{color:"cyan",fontSize:14,lineHeight:"20px",textDecoration:"underline"}},"Trusted Source")),l("h3",{css:d},f),s&&n?l("p",null,n[o].study):l("ul",{css:u},e.map(t=>l("li",{key:t,css:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%23${Object(r.d)("cyan")}' viewBox='0, 0, 40, 40'%3E%3Cpath d='M13.3 37.41a2.5 2.5 0 0 1-2-.94L2.08 24.92A2.509 2.509 0 0 1 6 21.79l7.32 9.13 21.14-26.4a2.5 2.5 0 0 1 3.9 3.13L15.25 36.48a2.503 2.503 0 0 1-1.95.93z'/%3E%3C/svg%3E")`,paddingLeft:22,backgroundRepeat:"no-repeat",backgroundPosition:"0px 4px",fontSize:17}},t))),s&&n&&n[o].note&&l("p",{css:g},n[o].note),l("p",{css:m},l(a.a,{href:v,cdpEvent:"top_sources_event",event:"|Top Sources|External Link Click"},"Go to source"))))}var v=i(3).h;var b=function({citation:t}){return v("div",{css:"padding: 20px 40px"},v("div",{css:{...r.a.elements.small,wordWrap:"break-word",a:{color:"pink !important",":hover":{color:"pink-dark !important"}}},dangerouslySetInnerHTML:{__html:t}}))},x=i(2),w=i(3).h;const y=Object(n.a)({display:"block",width:355,height:"auto",transition:"all 0.3s ease",transitionProperty:"opacity, top",position:"fixed",border:"1px solid gray",background:"white",boxShadow:"0 5px 16px 0 rgba(92, 92, 92, 0.5)",zIndex:r.a.zIndex.modals}),L=(t,e)=>Object(n.a)({opacity:1,top:t,left:e});class k extends x.Component{constructor(...t){super(...t),this.state={popupHeight:0},this.handleRef=t=>{this.popupRef=t}}componentDidMount(){this.setState({popupHeight:this.popupRef.offsetHeight})}render(){const{isPopupBelow:t,overlayTop:e,overlayLeft:i,onPopUpEnter:o,onPopUpLeave:s,children:n}=this.props;let a=e;const r=this.state.popupHeight>0?e-this.state.popupHeight-15:e-250-15,p=t?e:r;if("auto"!==e){const i=this.state.popupHeight>0?e-this.state.popupHeight-30:e-250-25;a=t?e:i}return w("div",{className:`${y} ${this.state.popupHeight&&L(p,i)}`,css:{opacity:0,visibility:this.state.popupHeight?"visible":"hidden",top:a,left:-1e4},onMouseEnter:o,onMouseLeave:s,ref:this.handleRef},n)}}var T=i(16),S=i(13),H=i(8),P=i(3).h;const E=Object(H.a)(()=>new(i(19).default)((t,e)=>{i.e(15).then((o=>{try{let o=i(84);t(o)}catch(t){e(t)}}).bind(null,i)).catch(e)}),{name:"modal"}),C=Object(n.a)({display:"inline","> a":{color:"cyan",textDecoration:"none","&:hover":{color:"magenta"}},"> cite":{display:"none"}}),O=Object(n.a)({cursor:"pointer","&::after":{display:"inline",fontSize:9,height:"100%",lineHeight:"9px",width:"100%",verticalAlign:"text-top",marginLeft:3,marginRight:5,color:"yellow","&:hover":{color:"pink"}}});customElements.define("hl-trusted-source",class extends HTMLElement{connectedCallback(){this.href=this.firstElementChild.href,this.source=this.getAttribute("source"),this.rationale=(this.getAttribute("rationale")||"").split(/,/),this.cite=(this.querySelector("cite")||{}).innerHTML,this.classList.add(C);const t=this.cite?this:this.firstElementChild;this.linkText=t.text,t.innerHTML+=`<span class="${O} icon-hl-ribbon-after"><span class="sro">Trusted Source</span></span>`;if(!HL.c.hideTrustedSources){this.modal=document.createElement("span"),this.appendChild(this.modal),Object(T.a)()>1?(this.addEventListener("mouseenter",()=>{clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.showPopup()},250)}),this.addEventListener("mouseleave",()=>{clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.hidePopup()},250)})):this.addEventListener("click",t=>{t.preventDefault(),this.modal.firstChild?this.hidePopup():this.showPopup()},!0)}}showPopup(){if(this.modal.firstChild)return;const t={category:"Any Page",action:this.cite?"Citation":"Top Sources",label:"Overlay Opened"};let e;if(Object(S.d)(t),Object(S.a)({top_sources_event:t.label.toLowerCase()}),e=this.cite?P(b,{citation:this.cite}):P(f,{source:this.source,rationale:this.rationale,href:this.href,linkText:this.linkText,isDetailTest:HL.c.detailTrustedSources}),Object(T.a)()>1){const t=this.getBoundingClientRect(),i=window.innerWidth-t.right>355?t.left:t.left-355,o=t.top<350;s.a.render(P(k,{isPopupBelow:o,overlayTop:o?t.bottom:t.top,overlayLeft:i,onPopUpEnter:this.handlePopUpEnter,onPopUpLeave:this.handlePopUpLeave},e),this.modal)}else s.a.render(P(E,{onClose:()=>{this.hidePopup()},render:()=>e}),this.modal)}hidePopup(){s.a.unmountComponentAtNode(this.modal)}})}}]);
//# sourceMappingURL=lib-elements-trusted-source-32a35.js.map